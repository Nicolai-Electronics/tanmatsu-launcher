#include "synthwave.h"
#include <stdio.h>
#include "bsp/display.h"
#include "esp_log.h"
#include "pax_fonts.h"
#include "pax_gfx.h"
#include "pax_text.h"

void synthwave(pax_buf_t* fb) {
    pax_background(fb, 0xFF552075);
    pax_draw_rect(fb, 0xFF552075, 0, 0, pax_buf_get_width(fb), pax_buf_get_height(fb));

    // Sun
    pax_vec2f sun0[] = {
        {299.18911, 168.72114999999994},
        {302.08061000000004, 160.61599999999993},
        {305.57497, 152.86374999999992},
        {309.64043, 145.48778999999993},
        {314.24521, 138.51150999999993},
        {319.35754, 131.95830999999993},
        {324.94563999999997, 125.85159999999993},
        {330.97772, 120.21475999999993},
        {337.42202999999995, 115.07119999999993},
        {344.24677999999994, 110.44431999999993},
        {351.42019999999997, 106.35749999999993},
        {358.91051, 102.83414999999994},
        {366.68593999999996, 99.89766299999994},
        {374.71470999999997, 97.57143899999994},
        {382.96504999999996, 95.87887399999994},
        {391.40518, 94.84336499999993},
        {400.00332, 94.48831},
        {408.60533999999996, 94.83921},
        {417.04949999999997, 95.871213},
        {425.30397, 97.560902},
        {433.33693, 99.884858},
        {441.11656, 102.81966},
        {448.61104, 106.3419},
        {455.78856, 110.42814999999999},
        {462.61729, 115.05499999999999},
        {469.0654, 120.19903},
        {475.10109, 125.83681999999999},
        {480.69253, 131.94494999999998},
        {485.80789999999996, 138.50000999999997},
        {490.41536999999994, 145.47857999999997},
        {494.48313999999993, 152.85722999999996},
        {497.97936999999996, 160.61255999999995},
        {500.87224999999995, 168.72114999999994},
        {300, 168.72114999999994},
    };
    pax_draw_shape(fb, 0xFFFFFF6B, 33, sun0);

    pax_vec2f sun1[] = {
        {297.22325, 176.70181}, {295.48563, 184.68836}, {504.52956, 184.68836},
        {503.02196, 176.70181}, {297.22325, 176.70181},
    };
    pax_draw_shape(fb, 0xFFFCEBD2, 5, sun1);

    pax_vec2f sun2[] = {
        {294.57248, 196.59413}, {294.30985, 200.19212000000002}, {294.57248, 204.57576}, {505.30209, 204.57576},
        {505.69013, 200.19212}, {505.63113, 196.59412999999998}, {294.57248, 196.59413},
    };
    pax_draw_shape(fb, 0xFFFFDCD9, 7, sun2);

    pax_vec2f sun3[] = {
        {296.48744, 220.47698}, {299.46988999999996, 232.44647}, {500.47772999999995, 232.44647},
        {503.46016, 220.47698}, {296.48744, 220.47698},
    };
    pax_draw_shape(fb, 0xFFFDAFEC, 5, sun3);

    pax_vec2f sun4[] = {
        {310.5355, 256.32898},  {322.89874000000003, 272.23246}, {477.0406, 272.23246},
        {489.45977, 256.32898}, {310.5355, 256.32898},
    };
    pax_draw_shape(fb, 0xFFFB8DEB, 5, sun4);

    // Mountains background
    pax_vec2f mountains[] = {
        {74.611328, 243.23047},
        {46.939453, 272.49414},
        {0.1, 240},
        {0, 480},
        {800, 480},
        {799.00391, 262.34961},
        {773.9550800000001, 230.07617},
        {739.56641, 263.36523},
        {708.66992, 281.35352},
        {687.98242, 283.23242},
        {667.29492, 285.38086},
        {649.8300800000001, 282.42773},
        {618.6660200000001, 265.78125},
        {586.9628900000001, 241.08398},
        {556.0644500000001, 264.43945},
        {524.9003900000001, 277.59375},
        {516.0332000000001, 278.66797},
        {505.8242200000001, 271.6875},
        {469.2851600000001, 220.94727},
        {444.5683600000001, 253.70117},
        {431.9414100000001, 263.36523},
        {402.92383000000007, 253.96875},
        {370.95312000000007, 198.66602},
        {334.6816400000001, 264.43945},
        {314.5332000000001, 248.86914000000002},
        {286.8593800000001, 274.37305000000003},
        {276.3808600000001, 269.00391},
        {243.0664100000001, 233.83398000000003},
        {210.8261700000001, 271.95703000000003},
        {199.2734400000001, 299.33984000000004},
        {165.6894500000001, 268.19727000000006},
        {129.6894500000001, 219.87500000000006},
        {104.97070000000011, 192.22266000000005},
    };
    pax_draw_shape(fb, 0xFF340575, 33, mountains);

    // Lines on mountains
    pax_simple_line(fb, 0xFF31FBFB, 799.00391, 262.34961, 773.9550800000001, 230.07617);
    pax_simple_line(fb, 0xFF31FBFB, 773.9550800000001, 230.07617, 739.56641, 263.36523);
    pax_simple_line(fb, 0xFF31FBFB, 739.56641, 263.36523, 708.66992, 281.35352);
    pax_simple_line(fb, 0xFF31FBFB, 708.66992, 281.35352, 687.98242, 283.23242);
    pax_simple_line(fb, 0xFF31FBFB, 687.98242, 283.23242, 667.29492, 285.38086);
    pax_simple_line(fb, 0xFF31FBFB, 667.29492, 285.38086, 649.8300800000001, 282.42773);
    pax_simple_line(fb, 0xFF31FBFB, 649.8300800000001, 282.42773, 618.6660200000001, 265.78125);
    pax_simple_line(fb, 0xFF31FBFB, 618.6660200000001, 265.78125, 586.9628900000001, 241.08398);
    pax_simple_line(fb, 0xFF31FBFB, 586.9628900000001, 241.08398, 556.0644500000001, 264.43945);
    pax_simple_line(fb, 0xFF31FBFB, 556.0644500000001, 264.43945, 524.9003900000001, 277.59375);
    pax_simple_line(fb, 0xFF31FBFB, 524.9003900000001, 277.59375, 516.0332000000001, 278.66797);
    pax_simple_line(fb, 0xFF31FBFB, 516.0332000000001, 278.66797, 505.8242200000001, 271.6875);
    pax_simple_line(fb, 0xFF31FBFB, 505.8242200000001, 271.6875, 469.2851600000001, 220.94727);
    pax_simple_line(fb, 0xFF31FBFB, 469.2851600000001, 220.94727, 444.5683600000001, 253.70117);
    pax_simple_line(fb, 0xFF31FBFB, 444.5683600000001, 253.70117, 431.9414100000001, 263.36523);
    pax_simple_line(fb, 0xFF31FBFB, 431.9414100000001, 263.36523, 402.92383000000007, 253.96875);
    pax_simple_line(fb, 0xFF31FBFB, 402.92383000000007, 253.96875, 370.95312000000007, 198.66602);
    pax_simple_line(fb, 0xFF31FBFB, 370.95312000000007, 198.66602, 334.6816400000001, 264.43945);
    pax_simple_line(fb, 0xFF31FBFB, 334.6816400000001, 264.43945, 314.5332000000001, 248.86914000000002);
    pax_simple_line(fb, 0xFF31FBFB, 314.5332000000001, 248.86914000000002, 286.8593800000001, 274.37305000000003);
    pax_simple_line(fb, 0xFF31FBFB, 286.8593800000001, 274.37305000000003, 276.3808600000001, 269.00391);
    pax_simple_line(fb, 0xFF31FBFB, 276.3808600000001, 269.00391, 243.0664100000001, 233.83398000000003);
    pax_simple_line(fb, 0xFF31FBFB, 243.0664100000001, 233.83398000000003, 210.8261700000001, 271.95703000000003);
    pax_simple_line(fb, 0xFF31FBFB, 210.8261700000001, 271.95703000000003, 199.2734400000001, 299.33984000000004);
    pax_simple_line(fb, 0xFF31FBFB, 199.2734400000001, 299.33984000000004, 165.6894500000001, 268.19727000000006);
    pax_simple_line(fb, 0xFF31FBFB, 165.6894500000001, 268.19727000000006, 129.6894500000001, 219.87500000000006);
    pax_simple_line(fb, 0xFF31FBFB, 129.6894500000001, 219.87500000000006, 104.97070000000011, 192.22266000000005);
    pax_simple_line(fb, 0xFF31FBFB, 104.97070000000011, 192.22266000000005, 74.61132900000011, 243.23047000000005);
    pax_simple_line(fb, 0xFF31FBFB, 74.61132900000011, 243.23047000000005, 46.93944900000011, 272.4941400000001);
    pax_simple_line(fb, 0xFF31FBFB, 46.93944900000011, 272.4941400000001, 20.60936900000011, 272.7617200000001);
    pax_simple_line(fb, 0xFF31FBFB, 20.60936900000011, 272.7617200000001, 1.724609000000111, 261.1308600000001);
    pax_simple_line(fb, 0xFF31FBFB, 20.627516, 273.55259, 5.0775423, 295.13215);
    pax_simple_line(fb, 0xFF31FBFB, 5.0775423, 295.13215, 28.243829, 310.04743);
    pax_simple_line(fb, 0xFF31FBFB, 28.243829, 310.04743, 37.764221, 286.88114);
    pax_simple_line(fb, 0xFF31FBFB, 37.764221, 286.88114, 47.60196, 271.96586);
    pax_simple_line(fb, 0xFF31FBFB, 0.63469279, 285.9291, 7.9336599, 288.46787);
    pax_simple_line(fb, 0xFF31FBFB, 7.9336599, 288.46787, 37.446875, 287.19849);
    pax_simple_line(fb, 0xFF31FBFB, 37.446875, 287.19849, 67.912129, 266.25363);
    pax_simple_line(fb, 0xFF31FBFB, 67.912129, 266.25363, 97.107997, 250.70364999999998);
    pax_simple_line(fb, 0xFF31FBFB, 97.107997, 250.70364999999998, 105.359, 255.14649999999997);
    pax_simple_line(fb, 0xFF31FBFB, 105.359, 255.14649999999997, 94.25188, 272.60055);
    pax_simple_line(fb, 0xFF31FBFB, 94.25188, 272.60055, 85.048834, 292.59338);
    pax_simple_line(fb, 0xFF31FBFB, 85.048834, 292.59338, 119.95694, 276.09137000000004);
    pax_simple_line(fb, 0xFF31FBFB, 119.95694, 276.09137000000004, 156.13443, 290.37195);
    pax_simple_line(fb, 0xFF31FBFB, 156.13443, 290.37195, 191.99457, 316.7117);
    pax_simple_line(fb, 0xFF31FBFB, 191.99457, 316.7117, 227.53737, 328.45352);
    pax_simple_line(fb, 0xFF31FBFB, 227.53737, 328.45352, 233.88429000000002, 309.09539);
    pax_simple_line(fb, 0xFF31FBFB, 233.88429000000002, 309.09539, 238.32714, 276.09137);
    pax_simple_line(fb, 0xFF31FBFB, 238.32714, 276.09137, 272.28321, 286.56379999999996);
    pax_simple_line(fb, 0xFF31FBFB, 272.28321, 286.56379999999996, 304.01785, 293.22806999999995);
    pax_simple_line(fb, 0xFF31FBFB, 304.01785, 293.22806999999995, 308.46070000000003, 284.97705999999994);
    pax_simple_line(fb, 0xFF31FBFB, 308.46070000000003, 284.97705999999994, 285.9291, 273.86993999999993);
    pax_simple_line(fb, 0xFF31FBFB, 285.9291, 273.86993999999993, 310.68212, 275.77401999999995);
    pax_simple_line(fb, 0xFF31FBFB, 310.68212, 275.77401999999995, 307.50866, 284.97705999999994);
    pax_simple_line(fb, 0xFF31FBFB, 96.473305, 251.021, 105.04166, 193.26396);
    pax_simple_line(fb, 0xFF31FBFB, 105.359, 255.1465, 130.11202, 221.82513);
    pax_simple_line(fb, 0xFF31FBFB, 130.11202, 221.82513, 110.1192, 317.3464);
    pax_simple_line(fb, 0xFF31FBFB, 110.1192, 317.3464, 100.91615, 330.99229);
    pax_simple_line(fb, 0xFF31FBFB, 100.91615, 330.99229, 85.366181, 338.29126);
    pax_simple_line(fb, 0xFF31FBFB, 85.366181, 338.29126, 72.672325, 353.52389000000005);
    pax_simple_line(fb, 0xFF31FBFB, 85.366181, 291.95869, 75.528442, 318.61578);
    pax_simple_line(fb, 0xFF31FBFB, 75.528442, 318.61578, 62.834587, 326.54943999999995);
    pax_simple_line(fb, 0xFF31FBFB, 62.834587, 326.54943999999995, 43.793803, 333.53105999999997);
    pax_simple_line(fb, 0xFF31FBFB, 43.793803, 333.53105999999997, 30.147907999999997, 353.52389);
    pax_simple_line(fb, 0xFF31FBFB, 97.107997, 250.70365, 94.25188, 272.28321);
    pax_simple_line(fb, 0xFF31FBFB, 66.96009, 267.20567, 57.75704399999999, 304.65254);
    pax_simple_line(fb, 0xFF31FBFB, 57.75704399999999, 304.65254, 64.421319, 302.74845999999997);
    pax_simple_line(fb, 0xFF31FBFB, 57.122351, 304.65254, 29.195869000000002, 309.41274);
    pax_simple_line(fb, 0xFF31FBFB, 84.096795, 292.59338, 50.140731, 315.75966);
    pax_simple_line(fb, 0xFF31FBFB, 50.140731, 315.75966, 40.620339, 324.96271);
    pax_simple_line(fb, 0xFF31FBFB, 40.620339, 324.96271, 5.3948887, 322.74129);
    pax_simple_line(fb, 0xFF31FBFB, 5.3948887, 322.74129, 0.0, 333.21372);
    pax_simple_line(fb, 0xFF31FBFB, -0.3173464, 293.54542, 16.819359, 311.31682);
    pax_simple_line(fb, 0xFF31FBFB, 16.819359, 311.31682, 50.775422999999996, 315.12497);
    pax_simple_line(fb, 0xFF31FBFB, 15.86732, 310.99947, 0.9520391899999989, 319.88516999999996);
    pax_simple_line(fb, 0xFF31FBFB, 0.9520391899999989, 319.88516999999996, 4.760195999999999, 322.42393999999996);
    pax_simple_line(fb, 0xFF31FBFB, 4.760195999999999, 322.42393999999996, 44.745842, 333.53105999999997);
    pax_simple_line(fb, 0xFF31FBFB, 44.745842, 333.53105999999997, 85.36618100000001, 337.97391);
    pax_simple_line(fb, 0xFF31FBFB, 85.36618100000001, 337.97391, 123.76509000000001, 338.60861);
    pax_simple_line(fb, 0xFF31FBFB, 123.76509000000001, 338.60861, 164.06809, 333.53106);
    pax_simple_line(fb, 0xFF31FBFB, 164.06809, 333.53106, 203.10169000000002, 339.24330000000003);
    pax_simple_line(fb, 0xFF31FBFB, 203.10169000000002, 339.24330000000003, 244.03938000000002, 335.43514000000005);
    pax_simple_line(fb, 0xFF31FBFB, 244.03938000000002, 335.43514000000005, 282.43829000000005, 332.26168000000007);
    pax_simple_line(fb, 0xFF31FBFB, 282.43829000000005, 332.26168000000007, 323.37598, 337.0218700000001);
    pax_simple_line(fb, 0xFF31FBFB, 323.37598, 337.0218700000001, 361.14020000000005, 341.7820700000001);
    pax_simple_line(fb, 0xFF31FBFB, 361.14020000000005, 341.7820700000001, 402.07788000000005, 334.80045000000007);
    pax_simple_line(fb, 0xFF31FBFB, 402.07788000000005, 334.80045000000007, 442.06353000000007, 328.13617000000005);
    pax_simple_line(fb, 0xFF31FBFB, 442.06353000000007, 328.13617000000005, 521.0827800000001, 341.14738000000006);
    pax_simple_line(fb, 0xFF31FBFB, 521.0827800000001, 341.14738000000006, 601.0540800000001, 344.00349000000006);
    pax_simple_line(fb, 0xFF31FBFB, 601.0540800000001, 344.00349000000006, 722.5977500000001, 320.51986000000005);
    pax_simple_line(fb, 0xFF31FBFB, 722.5977500000001, 320.51986000000005, 797.8088400000001, 338.2912600000001);
    pax_simple_line(fb, 0xFF31FBFB, 710.53858, 291.64134, 747.6681100000001, 311.31682);
    pax_simple_line(fb, 0xFF31FBFB, 747.6681100000001, 311.31682, 775.9119400000001, 354.15858000000003);
    pax_simple_line(fb, 0xFF31FBFB, 796.8568, 337.97391, 785.11499, 326.2321);
    pax_simple_line(fb, 0xFF31FBFB, 785.11499, 326.2321, 747.66811, 311.31682);
    pax_simple_line(fb, 0xFF31FBFB, 796.53946, 323.05863, 780.35479, 323.69331999999997);
    pax_simple_line(fb, 0xFF31FBFB, 741.63853, 261.49343, 753.3803499999999, 281.80359999999996);
    pax_simple_line(fb, 0xFF31FBFB, 753.3803499999999, 281.80359999999996, 763.5354299999999, 307.82599999999996);
    pax_simple_line(fb, 0xFF31FBFB, 763.5354299999999, 307.82599999999996, 776.8639799999999, 323.05863);
    pax_simple_line(fb, 0xFF31FBFB, 774.00786, 230.39348, 785.4323300000001, 272.60055);
    pax_simple_line(fb, 0xFF31FBFB, 785.4323300000001, 272.60055, 795.2700700000001, 305.60458);
    pax_simple_line(fb, 0xFF31FBFB, 794.63538, 304.33519, 798.44353, 309.73008);
    pax_simple_line(fb, 0xFF31FBFB, 797.17415, 275.13933, 783.8456000000001, 270.06178);
    pax_simple_line(fb, 0xFF31FBFB, 783.8456000000001, 270.06178, 720.3763200000001, 287.51584);
    pax_simple_line(fb, 0xFF31FBFB, 720.3763200000001, 287.51584, 709.5865400000001, 280.21687000000003);
    pax_simple_line(fb, 0xFF31FBFB, 710.85593, 291.32399, 694.3539199999999, 299.575);
    pax_simple_line(fb, 0xFF31FBFB, 694.3539199999999, 299.575, 688.64168, 283.39033);
    pax_simple_line(fb, 0xFF31FBFB, 688.64168, 283.39033, 721.64571, 287.19849);
    pax_simple_line(fb, 0xFF31FBFB, 721.64571, 287.19849, 727.35794, 300.20968999999997);
    pax_simple_line(fb, 0xFF31FBFB, 795.58742, 306.55662, 742.2732199999999, 308.46070000000003);
    pax_simple_line(fb, 0xFF31FBFB, 797.80884, 330.67495, 781.62418, 324.32802000000004);
    pax_simple_line(fb, 0xFF31FBFB, 735.2916, 354.47593, 710.53858, 291.64134);
    pax_simple_line(fb, 0xFF31FBFB, 671.50498, 310.99947, 681.9774100000001, 328.45351999999997);
    pax_simple_line(fb, 0xFF31FBFB, 681.9774100000001, 328.45351999999997, 693.0845300000001, 354.15858);
    pax_simple_line(fb, 0xFF31FBFB, 622.63363, 307.826, 649.60807, 354.47593);
    pax_simple_line(fb, 0xFF31FBFB, 610.57447, 354.79327, 601.68877, 343.68615);
    pax_simple_line(fb, 0xFF31FBFB, 601.68877, 343.68615, 593.43776, 328.13617);
    pax_simple_line(fb, 0xFF31FBFB, 593.43776, 328.13617, 580.42656, 277.6781);
    pax_simple_line(fb, 0xFF31FBFB, 580.42656, 277.6781, 560.43374, 281.80359999999996);
    pax_simple_line(fb, 0xFF31FBFB, 560.43374, 281.80359999999996, 555.35619, 265.30159);
    pax_simple_line(fb, 0xFF31FBFB, 587.40818, 242.1353, 595.34184, 286.88114);
    pax_simple_line(fb, 0xFF31FBFB, 595.34184, 286.88114, 622.9509800000001, 307.19131000000004);
    pax_simple_line(fb, 0xFF31FBFB, 622.9509800000001, 307.19131000000004, 670.55294, 311.63416000000007);
    pax_simple_line(fb, 0xFF31FBFB, 670.55294, 311.63416000000007, 693.7192200000001, 298.94031000000007);
    pax_simple_line(fb, 0xFF31FBFB, 680.33109, 306.16526, 631.63531, 308.11743);
    pax_simple_line(fb, 0xFF31FBFB, 631.63531, 308.11743, 624.15199, 280.6786);
    pax_simple_line(fb, 0xFF31FBFB, 624.15199, 280.6786, 618.7293, 265.82042);
    pax_simple_line(fb, 0xFF31FBFB, 580.44508, 277.96725, 591.83274, 273.19527999999997);
    pax_simple_line(fb, 0xFF31FBFB, 591.83274, 273.19527999999997, 656.25433, 286.96891999999997);
    pax_simple_line(fb, 0xFF31FBFB, 656.25433, 286.96891999999997, 666.99127, 311.15414);
    pax_simple_line(fb, 0xFF31FBFB, 666.99127, 311.15414, 666.99127, 311.15414);
    pax_simple_line(fb, 0xFF31FBFB, 656.36279, 287.51119, 667.75044, 285.12521);
    pax_simple_line(fb, 0xFF31FBFB, 648.22875, 281.43778, 656.47124, 287.07737999999995);
    pax_simple_line(fb, 0xFF31FBFB, 596.60471, 287.61965, 580.77044, 277.64189);
    pax_simple_line(fb, 0xFF31FBFB, 580.77044, 277.64189, 543.67922, 294.66915);
    pax_simple_line(fb, 0xFF31FBFB, 543.67922, 294.66915, 561.46566, 342.93112);
    pax_simple_line(fb, 0xFF31FBFB, 561.46566, 342.93112, 567.43062, 354.75259);
    pax_simple_line(fb, 0xFF31FBFB, 505.1781, 271.56848, 512.2275999999999, 316.25147000000004);
    pax_simple_line(fb, 0xFF31FBFB, 512.2275999999999, 316.25147000000004, 526.2181499999999, 353.99341000000004);
    pax_simple_line(fb, 0xFF31FBFB, 472.20812, 272.2192, 477.63082, 320.26426);
    pax_simple_line(fb, 0xFF31FBFB, 477.63082, 320.26426, 484.89723000000004, 354.10186999999996);
    pax_simple_line(fb, 0xFF31FBFB, 436.74371, 271.89384, 438.58743000000004, 303.45391);
    pax_simple_line(fb, 0xFF31FBFB, 438.58743000000004, 303.45391, 441.08187000000004, 304.10464);
    pax_simple_line(fb, 0xFF31FBFB, 441.08187000000004, 304.10464, 443.68476000000004, 354.75259);
    pax_simple_line(fb, 0xFF31FBFB, 476.9801, 319.61354, 440.86496, 303.77927);
    pax_simple_line(fb, 0xFF31FBFB, 447.69755, 306.81598, 475.78709999999995, 307.79207);
    pax_simple_line(fb, 0xFF31FBFB, 475.78709999999995, 307.79207, 511.90223999999995, 315.49229);
    pax_simple_line(fb, 0xFF31FBFB, 511.90223999999995, 315.49229, 549.53573, 311.37104000000005);
    pax_simple_line(fb, 0xFF31FBFB, 549.53573, 311.37104000000005, 586.9523099999999, 304.75536000000005);
    pax_simple_line(fb, 0xFF31FBFB, 586.9523099999999, 304.75536000000005, 622.3082699999999, 307.90052000000003);
    pax_simple_line(fb, 0xFF31FBFB, 631.63531, 323.30097, 593.02573, 328.07294);
    pax_simple_line(fb, 0xFF31FBFB, 593.02573, 328.07294, 555.50069, 327.53067000000004);
    pax_simple_line(fb, 0xFF31FBFB, 555.50069, 327.53067000000004, 517.54184, 331.10965000000004);
    pax_simple_line(fb, 0xFF31FBFB, 517.54184, 331.10965000000004, 477.197, 319.72199000000006);
    pax_simple_line(fb, 0xFF31FBFB, 524.92699, 277.71118, 526.4178800000001, 285.43668);
    pax_simple_line(fb, 0xFF31FBFB, 560.84377, 281.77723, 539.02263, 292.4845);
    pax_simple_line(fb, 0xFF31FBFB, 544.3085, 295.05966, 507.30744999999996, 291.53575);
    pax_simple_line(fb, 0xFF31FBFB, 507.30744999999996, 291.53575, 472.33941999999996, 274.05174);
    pax_simple_line(fb, 0xFF31FBFB, 472.33941999999996, 274.05174, 469.35765, 220.92202);
    pax_simple_line(fb, 0xFF31FBFB, 446.18117, 251.4174, 436.28712, 271.61211);
    pax_simple_line(fb, 0xFF31FBFB, 436.28712, 271.61211, 402.26783, 262.66679999999997);
    pax_simple_line(fb, 0xFF31FBFB, 402.26783, 262.66679999999997, 369.1973, 257.92307999999997);
    pax_simple_line(fb, 0xFF31FBFB, 369.1973, 257.92307999999997, 370.55264999999997, 198.42321999999996);
    pax_simple_line(fb, 0xFF31FBFB, 368.65516, 257.65201, 337.75318000000004, 271.61211000000003);
    pax_simple_line(fb, 0xFF31FBFB, 337.75318000000004, 271.61211000000003, 304.14051000000006, 293.16217);
    pax_simple_line(fb, 0xFF31FBFB, 334.50034, 264.42875, 309.01976, 281.09956);
    pax_simple_line(fb, 0xFF31FBFB, 309.96851, 275.27155, 314.44115999999997, 248.70669999999998);
    pax_simple_line(fb, 0xFF31FBFB, 336.39783, 272.15425, 338.02425, 258.60075);
    pax_simple_line(fb, 0xFF31FBFB, 198.82982, 299.12571, 232.98464, 309.01976);
    pax_simple_line(fb, 0xFF31FBFB, 232.98464, 309.01976, 266.73285, 309.29083);
    pax_simple_line(fb, 0xFF31FBFB, 266.73285, 309.29083, 300.75212999999997, 299.80339000000004);
    pax_simple_line(fb, 0xFF31FBFB, 300.75212999999997, 299.80339000000004, 304.14050999999995, 293.56878000000006);
    pax_simple_line(fb, 0xFF31FBFB, 334.09374, 274.59388, 331.78964, 299.53232);
    pax_simple_line(fb, 0xFF31FBFB, 331.78964, 299.53232, 326.50378, 326.63931);
    pax_simple_line(fb, 0xFF31FBFB, 326.50378, 326.63931, 318.37168, 354.42398000000003);
    pax_simple_line(fb, 0xFF31FBFB, 670.27715, 310.87742, 631.12467, 323.59360999999996);
    pax_simple_line(fb, 0xFF31FBFB, 438.70861, 303.51542, 403.23713000000004, 319.91261000000003);
    pax_simple_line(fb, 0xFF31FBFB, 403.23713000000004, 319.91261000000003, 362.07682000000005, 330.95562);
    pax_simple_line(fb, 0xFF31FBFB, 362.07682000000005, 330.95562, 326.27071000000007, 324.59752000000003);
    pax_simple_line(fb, 0xFF31FBFB, 327.94389, 315.2277, 365.08855, 321.92043);
    pax_simple_line(fb, 0xFF31FBFB, 365.08855, 321.92043, 402.84042999999997, 319.95277);
    pax_simple_line(fb, 0xFF31FBFB, 402.84042999999997, 319.95277, 401.89858, 354.38018);
    pax_simple_line(fb, 0xFF31FBFB, 402.99303, 253.87991, 402.76502999999997, 320.34241);
    pax_simple_line(fb, 0xFF31FBFB, 472.98956, 274.74207, 437.64929, 281.92412);
    pax_simple_line(fb, 0xFF31FBFB, 437.64929, 281.92412, 402.65103, 295.60422);
    pax_simple_line(fb, 0xFF31FBFB, 402.65103, 295.60422, 331.17249, 299.82225);
    pax_simple_line(fb, 0xFF31FBFB, 368.90677, 258.32594, 365.25875, 321.71042);
    pax_simple_line(fb, 0xFF31FBFB, 365.25875, 321.71042, 360.24271000000005, 354.20065999999997);
    pax_simple_line(fb, 0xFF31FBFB, 401.85302, 262.42997, 369.47678, 277.47809);
    pax_simple_line(fb, 0xFF31FBFB, 369.47678, 277.47809, 333.33851000000004, 274.85607);
    pax_simple_line(fb, 0xFF31FBFB, 330.60249, 299.70825, 296.85823, 308.94232);
    pax_simple_line(fb, 0xFF31FBFB, 296.85823, 308.94232, 294.69222, 314.41436);
    pax_simple_line(fb, 0xFF31FBFB, 294.69222, 314.41436, 326.04245000000003, 324.33243999999996);
    pax_simple_line(fb, 0xFF31FBFB, 327.98047, 314.87037, 294.46421000000004, 313.95835999999997);
    pax_simple_line(fb, 0xFF31FBFB, 300.73426, 300.16426, 296.85823, 309.17032);
    pax_simple_line(fb, 0xFF31FBFB, 294.92022, 314.64237, 287.39615999999995, 311.56434);
    pax_simple_line(fb, 0xFF31FBFB, 287.39615999999995, 311.56434, 249.77587999999994, 324.78844000000004);
    pax_simple_line(fb, 0xFF31FBFB, 249.77587999999994, 324.78844000000004, 226.74769999999995, 328.43647000000004);
    pax_simple_line(fb, 0xFF31FBFB, 266.192, 308.82832, 263.79798, 319.7724);
    pax_simple_line(fb, 0xFF31FBFB, 287.62416, 311.33634, 282.83613, 331.85649);
    pax_simple_line(fb, 0xFF31FBFB, 249.09187, 325.13044, 243.61983, 335.50452);
    pax_simple_line(fb, 0xFF31FBFB, 243.61983, 335.50452, 236.89378000000002, 354.08666);
    pax_simple_line(fb, 0xFF31FBFB, 283.06413, 332.1985, 278.16209, 353.97266);
    pax_simple_line(fb, 0xFF31FBFB, 227.20371, 328.09447, 211.47159, 331.62849);
    pax_simple_line(fb, 0xFF31FBFB, 211.47159, 331.62849, 202.92153, 338.58255);
    pax_simple_line(fb, 0xFF31FBFB, 202.92153, 338.58255, 195.62546999999998, 354.20066);
    pax_simple_line(fb, 0xFF31FBFB, 211.58559, 331.17249, 183.08538, 329.91848);
    pax_simple_line(fb, 0xFF31FBFB, 183.08538, 329.91848, 100.20674999999999, 331.85649);
    pax_simple_line(fb, 0xFF31FBFB, 153.90116, 354.31466, 164.16123000000002, 333.1105);
    pax_simple_line(fb, 0xFF31FBFB, 164.16123000000002, 333.1105, 183.19938000000002, 329.46248);
    pax_simple_line(fb, 0xFF31FBFB, 183.19938000000002, 329.46248, 199.61550000000003, 298.91025);
    pax_simple_line(fb, 0xFF31FBFB, 100.09275, 331.51449, 40.470304, 325.24444);
    pax_simple_line(fb, 0xFF31FBFB, 40.470304, 325.24444, 75.81057, 319.3164);
    pax_simple_line(fb, 0xFF31FBFB, 75.81057, 319.3164, 109.66882, 316.01038);
    pax_simple_line(fb, 0xFF31FBFB, 109.66882, 316.01038, 146.7191, 321.14041);
    pax_simple_line(fb, 0xFF31FBFB, 146.7191, 321.14041, 183.31338, 329.46247999999997);
    pax_simple_line(fb, 0xFF31FBFB, 166.44125, 268.24402, 148.99912, 314.64236999999997);
    pax_simple_line(fb, 0xFF31FBFB, 148.99912, 314.64236999999997, 136.57303000000002, 331.05848999999995);
    pax_simple_line(fb, 0xFF31FBFB, 136.57303000000002, 331.05848999999995, 123.80493000000001, 339.03854999999993);
    pax_simple_line(fb, 0xFF31FBFB, 123.80493000000001, 339.03854999999993, 112.74685000000001, 353.9726599999999);
    pax_simple_line(fb, 0xFF31FBFB, 242.99961, 233.64598, 238.3228, 276.02963);
    pax_simple_line(fb, 0xFF31FBFB, 238.3228, 276.02963, 206.55941, 281.09618);
    pax_simple_line(fb, 0xFF31FBFB, 276.12707, 269.01441, 266.3837, 308.96222);

    // Top line of grid
    pax_simple_line(fb, 0xFFF71FF1, 0, 354, 800, 354);
}

void synthwave_step(pax_buf_t* fb) {
    static int j = 0;
    pax_simple_rect(fb, 0xFF5D0B8B, 0, 355, 800, 125);
    float a = 800 / 17;
    float c = 800;
    float b = (800 + c) / 17;
    for (size_t i = 0; i < 17; i++) {
        float x1 = a * (i + 1);
        float x2 = b * (i + 1) - (c / 2);
        pax_simple_line(fb, 0xFFF71FF1, x1, 354, x2, 480);
    }
    float distance = 20;
    for (size_t i = 0; i < 9; i++) {
        int y = 354 + distance * i + j;
        if (y > 480) {
            y -= distance * i + j;
        }
        uint32_t c = 0xFFF71FF1;
        pax_simple_line(fb, c, 0, y, 800, y);
    }
    j++;
    if (j > 20) {
        j = 0;
    }
}